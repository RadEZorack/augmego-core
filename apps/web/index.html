<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Augmego</title>
    <link rel="icon" href="./src/assets/favicon.ico" />
  </head>
  <body>
    <header class="overlay-header">
      <div class="brand">
        <img class="brand-logo" src="./src/assets/logo.png" alt="Augmego logo" />
        <span>Augmego</span>
      </div>
      <div class="auth-actions">
        <img class="user-avatar" id="user-avatar" alt="" />
        <div class="login-menu" id="login-menu">
          <button
            class="login-button login-toggle"
            id="login-toggle"
            type="button"
            aria-expanded="false"
            aria-controls="login-options"
          >
            <span>Login</span>
            <span class="login-chevron" aria-hidden="true">â–¾</span>
          </button>
          <div class="login-options" id="login-options">
            <button class="login-button login-provider" id="login-linkedin" type="button">
              <img
                class="provider-logo"
                src="https://upload.wikimedia.org/wikipedia/commons/8/81/LinkedIn_icon.svg"
                alt=""
                aria-hidden="true"
              />
              <span>LinkedIn</span>
            </button>
            <button class="login-button google login-provider" id="login-google" type="button">
              <img
                class="provider-logo"
                src="https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg"
                alt=""
                aria-hidden="true"
              />
              <span>Google</span>
            </button>
            <button class="login-button apple login-provider" id="login-apple" type="button">
              <img
                class="provider-logo provider-logo-apple"
                src="https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg"
                alt=""
                aria-hidden="true"
              />
              <span>Apple</span>
            </button>
          </div>
        </div>
        <button class="login-button" id="logout-button" type="button">
          Log out
        </button>
      </div>
    </header>
    <div id="app"></div>
    <aside class="dock-panel" id="dock-panel" aria-label="Communication panel">
      <div class="dock-header">
        <div class="dock-tabs" role="tablist" aria-label="Panel tabs">
          <button id="tab-chat" class="dock-tab active" type="button" role="tab" aria-selected="true">
            Global Chat
          </button>
          <button id="tab-party" class="dock-tab" type="button" role="tab" aria-selected="false">
            Worlds
          </button>
          <button id="tab-media" class="dock-tab" type="button" role="tab" aria-selected="false">
            Media
          </button>
        </div>
        <button id="dock-minimize" class="panel-close-button" type="button" aria-label="Minimize panel">x</button>
      </div>

      <div id="pane-chat" class="dock-pane active" role="tabpanel" aria-labelledby="tab-chat">
        <div class="chat-header">
          <span>Global Chat</span>
          <span class="chat-status" id="chat-status">Connecting...</span>
        </div>
        <div class="chat-log" id="chat-log" role="log" aria-live="polite"></div>
        <form class="chat-form" id="chat-form">
          <input
            id="chat-input"
            class="chat-input"
            type="text"
            maxlength="500"
            placeholder="Sign in to chat"
            autocomplete="off"
          />
          <button id="chat-send" class="chat-send" type="submit">Send</button>
        </form>
      </div>

      <div id="pane-media" class="dock-pane" role="tabpanel" aria-labelledby="tab-media">
        <div class="media-header">Media</div>
        <div id="media-access-card" class="media-access-card">
          <div id="media-access-status" class="media-access-status">
            To join voice/video, grant camera and microphone access.
          </div>
          <div class="media-access-actions">
            <button id="media-enable-button" class="media-button" type="button">
              Enable Camera &amp; Mic
            </button>
            <button id="media-muted-button" class="media-link-button" type="button">
              Continue muted
            </button>
          </div>
        </div>
        <div class="media-actions">
          <button id="mic-toggle" class="media-button" type="button">Mute Mic</button>
          <button id="camera-toggle" class="media-button" type="button">Camera Off</button>
        </div>
        <div class="media-selectors">
          <label class="media-label" for="audio-input-select">Mic Input</label>
          <select id="audio-input-select" class="media-select"></select>
          <label class="media-label" for="video-input-select">Camera Input</label>
          <select id="video-input-select" class="media-select"></select>
          <label class="media-label" for="audio-output-select">Audio Output</label>
          <select id="audio-output-select" class="media-select"></select>
        </div>
        <div class="volume-section">
          <div class="volume-title">Remote Volume</div>
          <div id="remote-volume-list" class="volume-list"></div>
        </div>
      </div>

      <div id="pane-party" class="dock-pane" role="tabpanel" aria-labelledby="tab-party">
        <div class="party-status" id="party-status">No world</div>
        <div class="world-section">
          <div class="party-members-title">Find Worlds</div>
          <div class="party-search">
            <input
              id="party-search-input"
              class="party-search-input"
              type="text"
              placeholder="Search worlds or owners"
              autocomplete="off"
            />
            <button id="party-search-button" class="party-search-button" type="button">Find</button>
          </div>
          <div class="party-search-results" id="party-search-results"></div>
        </div>

        <div class="world-section">
          <div class="party-members-title">Current World Visitors</div>
          <div class="party-members" id="party-members"></div>
          <button id="party-leave-button" class="party-leave-button" type="button" disabled>
            Leave World
          </button>
        </div>

        <div class="world-section">
          <div class="party-members-title">World Settings</div>
          <form id="world-settings-form" class="party-search">
            <input
              id="world-name-input"
              class="party-search-input"
              type="text"
              maxlength="80"
              placeholder="World name"
              autocomplete="off"
            />
            <button id="world-settings-save" class="party-secondary-button" type="submit" disabled>
              Save
            </button>
          </form>
          <input
            id="world-description-input"
            class="party-search-input"
            type="text"
            maxlength="240"
            placeholder="World description"
            autocomplete="off"
          />
          <div class="party-search">
            <label for="world-public-toggle" class="party-result-label">Public world</label>
            <input id="world-public-toggle" type="checkbox" />
          </div>
        </div>

        <div class="world-section">
          <div class="party-members-title">World Models</div>
          <div id="world-status" class="party-status">Sign in to load world</div>
          <input
            id="world-generate-name"
            class="party-search-input"
            type="text"
            placeholder="Generated model name (optional)"
            autocomplete="off"
          />
          <form id="world-generate-form" class="party-search">
            <input
              id="world-generate-prompt"
              class="party-search-input"
              type="text"
              maxlength="600"
              placeholder="Describe the 3D model to generate"
              autocomplete="off"
            />
            <button id="world-generate-button" class="party-search-button" type="submit">
              Generate 3D
            </button>
          </form>
          <div class="party-search">
            <label for="world-generate-visibility" class="party-result-label">Generated mesh visibility</label>
            <select id="world-generate-visibility" class="party-search-input">
              <option value="public" selected>Public</option>
              <option value="private">Private</option>
            </select>
          </div>
          <form id="world-upload-form" class="party-search">
            <input
              id="world-model-name"
              class="party-search-input"
              type="text"
              placeholder="Model name"
              autocomplete="off"
            />
            <button id="world-upload-button" class="party-search-button" type="submit">Upload</button>
          </form>
          <div class="party-search">
            <label for="world-model-visibility" class="party-result-label">Uploaded mesh visibility</label>
            <select id="world-model-visibility" class="party-search-input">
              <option value="public" selected>Public</option>
              <option value="private">Private</option>
            </select>
          </div>
          <input id="world-model-file" class="party-search-input" type="file" accept=".glb" />
          <div class="party-search-results" id="world-assets"></div>
        </div>

        <div class="world-section">
          <div class="party-members-title">World Instances</div>
          <div class="party-search-results" id="world-placements"></div>
          <div id="world-placement-editor" class="world-placement-editor"></div>
        </div>

        <div class="world-section world-section-chat">
          <div class="chat-header">
            <span>World Chat</span>
            <span class="chat-status" id="party-chat-status">Join a world to chat</span>
          </div>
          <div class="chat-log" id="party-chat-log" role="log" aria-live="polite"></div>
          <form class="chat-form" id="party-chat-form">
            <input
              id="party-chat-input"
              class="chat-input"
              type="text"
              maxlength="500"
              placeholder="Join a world to chat"
              autocomplete="off"
            />
            <button id="party-chat-send" class="chat-send" type="submit">Send</button>
          </form>
        </div>
      </div>
    </aside>

    <div id="party-invite-modal" class="party-invite-modal" role="dialog" aria-modal="true">
      <div class="party-invite-card">
        <div class="party-invite-title">World Invite</div>
        <div id="party-invite-text" class="party-invite-text"></div>
        <div class="party-invite-actions">
          <button id="party-invite-accept" class="party-search-button" type="button">Accept</button>
          <button id="party-invite-decline" class="party-secondary-button" type="button">
            Decline
          </button>
        </div>
      </div>
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
